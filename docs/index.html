<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700;800;900&display=swap" rel="stylesheet">
<title>Nordic Loft Ålesund Concierge</title>
<style>
  html,body{
    margin:0;
    overflow:hidden;
    height:3200px;
    font-family:Montserrat,system-ui;
    background:linear-gradient(180deg,#8db5e8 0%,#9cc0ec 25%,#e9f2ff 60%,#ffffff 100%);
    color:#0f1420;
  }
  *{box-sizing:border-box}
  .wrap{max-width:1100px;margin:0 auto;padding:12px;height:100%;display:flex;flex-direction:column}
  .panel{
    background:rgba(255,255,255,.8);
    border:1px solid rgba(255,255,255,.4);
    border-radius:18px;
    box-shadow:0 18px 48px rgba(20,24,32,.16);
    backdrop-filter:blur(16px);
    padding:10px;
    height:100%;
    overflow:hidden;
    display:flex;
    flex-direction:column;
  }
  header{display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;margin-bottom:8px}
  .brand h1{font-size:20px;font-weight:900;margin:0}
  .tagline{font-size:12px;color:#6f7681;font-weight:600}
  .links{display:flex;gap:8px;flex-wrap:wrap}
  .pill{padding:7px 12px;border-radius:999px;background:#fff;border:1px solid #dfe9f9;color:#1b2b48;font-weight:800;text-decoration:none;box-shadow:0 0 0 3px rgba(90,143,205,.18)}
  .grid{display:grid;grid-template-columns:1.45fr .55fr;gap:10px;height:100%;}
  @media(max-width:900px){.grid{grid-template-columns:1fr;height:auto}}
  .scrollFix{overflow:hidden;height:100%;display:flex;flex-direction:column;justify-content:space-between;}
  .card{background:#fff;border:1px solid #efe4cf;border-radius:14px;margin-bottom:8px}
  .hero{padding:10px 12px;border-bottom:1px solid #efe4cf;background:linear-gradient(180deg,#fff,#fbf7f1)}
  .hero h2{margin:0;font-size:14px;font-weight:900}
  .pad{padding:10px 12px}
  .chips{display:grid;grid-template-columns:repeat(4,1fr);gap:6px}
  @media(max-width:900px){.chips{grid-template-columns:repeat(3,1fr)}}
  .chip{padding:8px 4px;text-align:center;border:1px solid #e9e2d6;border-radius:10px;cursor:pointer;font-weight:800;background:#fbfaf8;transition:.15s}
  .chip.active{background:#fff7e6;border-color:#e3d2ae;box-shadow:0 0 0 5px rgba(94,155,231,.25)}
  .products{display:grid;grid-template-columns:repeat(3,1fr);gap:10px}
  @media(max-width:900px){.products{grid-template-columns:repeat(2,1fr)}}
  .p{background:#fff;border:1px solid #eee3cf;border-radius:12px;overflow:hidden;display:flex;flex-direction:column;min-height:330px;transition:.2s}
  .p img{width:100%;height:200px;object-fit:cover}
  .meta{padding:8px}
  .price-add{margin-top:auto;display:flex;flex-direction:column;align-items:center;gap:4px;padding:8px;border-top:1px solid #f1eadc}
  .stepper{display:flex;align-items:center;gap:4px}
  .stepper button{width:26px;height:26px;border-radius:8px;border:1px solid #e6ddcc;background:#fff;font-weight:900}
  .stepper input{width:36px;text-align:center;border-radius:8px;border:1px solid #e6ddcc}
  .btn{padding:7px 10px;border-radius:10px;font-weight:800;cursor:pointer}
  .btn.gold{background:linear-gradient(180deg,#fff3d4,#ebd09b);border:1px solid #e3d2ae}
  .btn.primary{background:linear-gradient(180deg,#7bb9ff,#5a8fcd);border:1px solid #5a8fcd;color:#fff;box-shadow:0 10px 22px rgba(90,143,205,.28)}
  .actgrid{display:grid;grid-template-columns:repeat(2,1fr);gap:10px}
  @media(max-width:900px){.actgrid{grid-template-columns:1fr}}
  .act img{width:100%;height:90px;object-fit:cover;border-radius:8px}
  .order{background:#fff;border:1px solid #efe4cf;border-radius:14px;display:flex;flex-direction:column;justify-content:space-between;height:100%}
  .order .head{font-weight:900;padding:8px 10px;border-bottom:1px solid #efe4cf}
  .order .items{flex:1;padding:10px;overflow:hidden}
  .rowItem{display:flex;justify-content:space-between;padding:6px 8px;border:1px solid #efe3cb;border-radius:10px;margin-bottom:4px}
  .total{padding:8px 10px;border-top:1px solid #efe4cf;font-weight:900;display:flex;justify-content:space-between}
  .form{padding:8px 10px;display:grid;gap:6px}
  input,textarea{width:100%;border:1px solid #e6ddcc;border-radius:8px;padding:8px;font-size:13px}
  .confirm{position:fixed;inset:0;background:rgba(255,255,255,.4);backdrop-filter:blur(10px);display:none;align-items:center;justify-content:center;z-index:999;}
  .confirm.show{display:flex}
  .confirm .box{background:rgba(255,255,255,.85);border:1px solid #e8edf7;border-radius:16px;padding:20px;text-align:center;box-shadow:0 22px 60px rgba(0,0,0,.18)}
</style>
</head>
<body>
<div class="wrap">
  <div class="panel">
    <header>
      <div class="brand">
        <h1>Nordic Loft Ålesund Concierge</h1>
        <div class="tagline">Request groceries, add-ons, and experiences — pay after confirmation</div>
      </div>
      <div class="links">
        <a class="pill" href="https://docs.google.com/document/d/12GjZr3Lu2dz23FNhq0lyMkD6iD_7Wx3burXyg3A5o2g/edit" target="_blank">Local Guide</a>
        <a class="pill" href="https://docs.google.com/document/d/1438-pOjPXDA6WhvLcfWRjl4x0Id2-jwTWMYlVJ1PoEo/edit" target="_blank">Check-In</a>
      </div>
    </header>

    <div class="grid">
      <div class="scrollFix">
        <section class="card">
          <div class="hero"><h2>Groceries</h2><p>Tap to add essentials</p></div>
          <div class="pad">
            <div class="chips" id="groceries">
              <div class="chip" data-id="milk">Milk</div>
              <div class="chip" data-id="oat">Oat Milk</div>
              <div class="chip" data-id="eggs">Eggs</div>
              <div class="chip" data-id="bread">Fresh Bread</div>
              <div class="chip" data-id="fruit">Fruit</div>
              <div class="chip" data-id="water">Sparkling Water</div>
              <div class="chip" data-id="snack">Snacks</div>
              <div class="chip" data-id="flowers">Flowers</div>
            </div>
          </div>
        </section>

        <section class="card">
          <div class="hero"><h2>Featured Add-ons</h2></div>
          <div class="pad">
            <div class="products" id="products">
              <div class="p" data-name="Malbec House Red Wine" data-price="349">
                <img src="https://storage.googleapis.com/msgsndr/ZOaFJ8FLtFptFJMy2ZSH/media/68f8d6284ab728e809922cc0.png">
                <div class="meta"><b>Malbec House Red Wine</b></div>
                <div class="price-add">
                  <div class="stepper">
                    <button data-step="-1">−</button><input type="number" value="0"><button data-step="1">+</button>
                  </div>
                  <button class="btn gold add">Add</button>
                </div>
              </div>
              <div class="p" data-name="Norwegian Glass" data-price="299">
                <img src="https://storage.googleapis.com/msgsndr/ZOaFJ8FLtFptFJMy2ZSH/media/68f8d5b64ab72867ed9222eb.jpeg">
                <div class="meta"><b>Norwegian Glass</b></div>
                <div class="price-add">
                  <div class="stepper">
                    <button data-step="-1">−</button><input type="number" value="0"><button data-step="1">+</button>
                  </div>
                  <button class="btn gold add">Add</button>
                </div>
              </div>
            </div>
          </div>
        </section>

        <section class="card">
          <div class="hero"><h2>Experiences</h2></div>
          <div class="pad">
            <div class="actgrid" id="acts">
              <div class="act" data-name="VIP Photo Shoot with Ira"><img src="https://storage.googleapis.com/msgsndr/ZOaFJ8FLtFptFJMy2ZSH/media/68f9011302a7ea2ed2ffc83f.jpeg"><b>VIP Photo Shoot with Ira</b></div>
              <div class="act" data-name="Fishing with Simon"><img src="https://storage.googleapis.com/msgsndr/ZOaFJ8FLtFptFJMy2ZSH/media/68f8ff2bad50b295805908f2.jpeg"><b>Fishing with Simon</b></div>
            </div>
          </div>
        </section>
      </div>

      <div class="order">
        <div class="head">Your Order</div>
        <div class="items" id="cart"></div>
        <div class="total"><span>Total</span><span id="total">kr 0</span></div>
        <div class="form">
          <input id="name" placeholder="Your name">
          <input id="email" placeholder="Email">
          <button id="send" class="btn primary">Confirm & Send</button>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="confirm" id="confirm"><div class="box"><h3>✅ Order Sent</h3><p>We'll confirm via message shortly.</p><button class="btn primary" onclick="document.getElementById('confirm').classList.remove('show')">Close</button></div></div>

<script>
const webhook="https://services.leadconnectorhq.com/hooks/ZOaFJ8FLtFptFJMy2ZSH/webhook-trigger/f540af18-28fb-4fdc-82cc-1a3a114d4142";
const cart={},totalEl=document.getElementById("total"),cartEl=document.getElementById("cart");

function render(){
  cartEl.innerHTML="";
  let total=0;
  Object.values(cart).forEach(i=>{
    const row=document.createElement("div");row.className="rowItem";
    row.innerHTML=`<span>${i.name} x${i.qty}</span><b>kr ${i.price*i.qty}</b>`;
    cartEl.appendChild(row);total+=i.price*i.qty;
  });
  totalEl.textContent="kr "+total;
}

// --- Add-ons ---
document.getElementById("products").addEventListener("click",e=>{
 const p=e.target.closest(".p");if(!p)return;
 const step=e.target.dataset.step;if(step){
   const inp=p.querySelector("input");
   inp.value=Math.max(0,parseInt(inp.value||0)+parseInt(step));
 }
 if(e.target.classList.contains("add")){
   const qty=parseInt(p.querySelector("input").value);
   if(!qty)return;
   const id=p.dataset.name;
   if(!cart[id])cart[id]={name:p.dataset.name,qty:0,price:parseInt(p.dataset.price)};
   cart[id].qty+=qty;
   p.querySelector("input").value=0;
   render();
 }
});

// --- Groceries ---
document.getElementById("groceries").addEventListener("click",e=>{
 const c=e.target.closest(".chip");if(!c)return;
 const id=c.dataset.id;
 if(cart[id]){delete cart[id];c.classList.remove("active");}
 else{cart[id]={name:c.textContent.trim()+" (Request Quote)",qty:1,price:0};c.classList.add("active");}
 render();
});

// --- Experiences ---
document.getElementById("acts").addEventListener("click",e=>{
 const a=e.target.closest(".act");if(!a)return;
 const id=a.dataset.name;
 if(cart[id]){delete cart[id];a.style.boxShadow="";}
 else{cart[id]={name:a.dataset.name+" (Request Quote)",qty:1,price:0};a.style.boxShadow="0 0 0 5px rgba(94,155,231,.25)";}
 render();
});

// --- Send ---
document.getElementById("send").addEventListener("click",async()=>{
 const payload={name:document.getElementById("name").value,email:document.getElementById("email").value,items:Object.values(cart)};
 await fetch(webhook,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(payload)});
 document.getElementById("confirm").classList.add("show");
 Object.keys(cart).forEach(k=>delete cart[k]);
 render();
});

render();
</script>
</body>
</html>
